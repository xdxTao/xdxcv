import{b as j,aa as Q,m as F,d as q,g as W,o as b,c as T,p as D,s as w,q as m,Q as e,x as G,a7 as P,a as z,P as C,ab as J,a6 as L,$ as X,B as K,y as Y,ac as _,ad as x,U as R,f as ee,ae as oe,af as le,r as k,j as N,e as ae,ag as se,ah as te,ai as ne,H as O,A as ie,D as re,aj as V,ak as ue,n as de,E as ce,al as fe,am as me,an as ye,ao as ve,w as ge,ap as pe,aq as Ce,ar as be,K as ke}from"./index-82JA-Thp.js";const U=Symbol("dialogInjectionKey"),Z=j({center:{type:Boolean,default:!1},closeIcon:{type:Q,default:""},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),we={close:()=>!0},he=["aria-label"],Be={name:"ElDialogContent"},Ee=q({...Be,props:Z,emits:we,setup(o){const{Close:n}=_,{dialogRef:p,headerRef:i,ns:a,style:y}=W(U);return(l,t)=>(b(),T("div",{ref_key:"dialogRef",ref:p,class:m([e(a).b(),e(a).is("fullscreen",l.fullscreen),e(a).is("draggable",l.draggable),{[e(a).m("center")]:l.center},l.customClass]),"aria-modal":"true",role:"dialog","aria-label":l.title||"dialog",style:K(e(y)),onClick:t[1]||(t[1]=Y(()=>{},["stop"]))},[D("div",{ref_key:"headerRef",ref:i,class:m(e(a).e("header"))},[w(l.$slots,"title",{},()=>[D("span",{class:m(e(a).e("title"))},G(l.title),3)])],2),D("div",{class:m(e(a).e("body"))},[w(l.$slots,"default")],2),l.$slots.footer?(b(),T("div",{key:0,class:m(e(a).e("footer"))},[w(l.$slots,"footer")],2)):P("v-if",!0),l.showClose?(b(),T("button",{key:1,"aria-label":"close",class:m(e(a).e("headerbtn")),type:"button",onClick:t[0]||(t[0]=c=>l.$emit("close"))},[z(e(X),{class:m(e(a).e("close"))},{default:C(()=>[(b(),L(J(l.closeIcon||e(n))))]),_:1},8,["class"])],2)):P("v-if",!0)],14,he))}});var De=F(Ee,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const $e=j({...Z,appendToBody:{type:Boolean,default:!1},beforeClose:{type:x(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,required:!0},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),Ie={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[R]:o=>ee(o),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Me=(o,n)=>{const i=oe().emit,{nextZIndex:a}=le();let y="";const l=k(!1),t=k(!1),c=k(!1),h=k(o.zIndex||a());let v,g;const $=N(()=>ae(o.width)?`${o.width}px`:o.width),I=N(()=>{const d={},E="--el-dialog";return o.fullscreen||(o.top&&(d[`${E}-margin-top`]=o.top),o.width&&(d[`${E}-width`]=$.value)),d});function M(){i("opened")}function f(){i("closed"),i(R,!1),o.destroyOnClose&&(c.value=!1)}function B(){i("close")}function s(){g==null||g(),v==null||v(),o.openDelay&&o.openDelay>0?{stop:v}=V(()=>A(),o.openDelay):A()}function r(){v==null||v(),g==null||g(),o.closeDelay&&o.closeDelay>0?{stop:g}=V(()=>S(),o.closeDelay):S()}function u(){function d(E){E||(t.value=!0,l.value=!1)}o.beforeClose?o.beforeClose(d):r()}function H(){o.closeOnClickModal&&u()}function A(){ue&&(l.value=!0)}function S(){l.value=!1}return o.lockScroll&&se(l),o.closeOnPressEscape&&te({handleClose:u},l),ne(l),O(()=>o.modelValue,d=>{d?(t.value=!1,s(),c.value=!0,i("open"),h.value=o.zIndex?h.value++:a(),ie(()=>{n.value&&(n.value.scrollTop=0)})):l.value&&r()}),O(()=>o.fullscreen,d=>{n.value&&(d?(y=n.value.style.transform,n.value.style.transform=""):n.value.style.transform=y)}),re(()=>{o.modelValue&&(l.value=!0,c.value=!0,s())}),{afterEnter:M,afterLeave:f,beforeLeave:B,handleClose:u,onModalClick:H,close:r,doClose:S,closed:t,style:I,rendered:c,visible:l,zIndex:h}},Se={name:"ElDialog"},Te=q({...Se,props:$e,emits:Ie,setup(o,{expose:n}){const p=o,i=de("dialog"),a=k(),y=k(),{visible:l,style:t,rendered:c,zIndex:h,afterEnter:v,afterLeave:g,beforeLeave:$,handleClose:I,onModalClick:M}=Me(p,a);ce(U,{dialogRef:a,headerRef:y,ns:i,rendered:c,style:t});const f=be(M),B=N(()=>p.draggable&&!p.fullscreen);return fe(a,y,B),n({visible:l}),(s,r)=>(b(),L(Ce,{to:"body",disabled:!s.appendToBody},[z(pe,{name:"dialog-fade",onAfterEnter:e(v),onAfterLeave:e(g),onBeforeLeave:e($)},{default:C(()=>[ge(z(e(me),{"custom-mask-event":"",mask:s.modal,"overlay-class":s.modalClass,"z-index":e(h)},{default:C(()=>[D("div",{class:m(`${e(i).namespace.value}-overlay-dialog`),onClick:r[0]||(r[0]=(...u)=>e(f).onClick&&e(f).onClick(...u)),onMousedown:r[1]||(r[1]=(...u)=>e(f).onMousedown&&e(f).onMousedown(...u)),onMouseup:r[2]||(r[2]=(...u)=>e(f).onMouseup&&e(f).onMouseup(...u))},[e(c)?(b(),L(De,{key:0,"custom-class":s.customClass,center:s.center,"close-icon":s.closeIcon,draggable:e(B),fullscreen:s.fullscreen,"show-close":s.showClose,style:K(e(t)),title:s.title,onClose:e(I)},ye({title:C(()=>[w(s.$slots,"title")]),default:C(()=>[w(s.$slots,"default")]),_:2},[s.$slots.footer?{name:"footer",fn:C(()=>[w(s.$slots,"footer")])}:void 0]),1032,["custom-class","center","close-icon","draggable","fullscreen","show-close","style","title","onClose"])):P("v-if",!0)],34)]),_:3},8,["mask","overlay-class","z-index"]),[[ve,e(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Pe=F(Te,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Le=ke(Pe);export{Le as E};
